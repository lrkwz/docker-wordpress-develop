: nginx configuration
location /api {
                try_files $uri =404;
                fastcgi_split_path_info ^(.+\.php)(/.+)$;
                fastcgi_pass unix:/var/run/php5-fpm-premiati.sock;
                fastcgi_index index.php;
                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                include fastcgi_params;

rewrite ^/rest/checksums /index.php?route=feed/rest_api/getchecksum break;
rewrite ^/rest/utc_offset /index.php?route=feed/rest_api/utc_offset break;
rewrite ^/rest/order_statuses /index.php?route=feed/rest_api/order_statuses break;
rewrite ^/rest/products/?([0-9]+)/images/other /index.php?route=feed/rest_api/productimages&id=$1&other=1 break;
rewrite ^/rest/products/?([0-9]+)/images /index.php?route=feed/rest_api/productimages&id=$1 break;
rewrite ^/rest/categories/?([0-9]+)/images /index.php?route=feed/rest_api/categoryimages&id=$1 break;
rewrite ^/rest/manufacturers/?([0-9]+)/images /index.php?route=feed/rest_api/manufacturerimages&id=$1 break;
rewrite ^/rest/bulk_products /index.php?route=feed/rest_api/bulkproducts break;
rewrite ^/rest/products/?([0-9]+)/review /index.php?route=feed/rest_api/reviews&id=$1 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+)/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=feed/rest_api/products&search=$1&limit=$2&page=$3 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+) /index.php?route=feed/rest_api/products&search=$1 break;
rewrite ^/rest/products/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=feed/rest_api/products&limit=$1&page=$2 break;
rewrite ^/rest/products/category/?([0-9]+)/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=feed/rest_api/products&category=$1&limit=$2&page=$3 break;
rewrite ^/rest/products/category/?([0-9]+) /index.php?route=feed/rest_api/products&category=$1 break;
rewrite ^/rest/products/quantity /index.php?route=feed/rest_api/productquantity break;
rewrite ^/rest/products/?([0-9]+) /index.php?route=feed/rest_api/products&id=$1 break;
rewrite ^/rest/products /index.php?route=feed/rest_api/products break;
rewrite ^/rest/featured/limit/?([0-9]+) /index.php?route=feed/rest_api/featured&limit=$1 break;
rewrite ^/rest/featured /index.php?route=feed/rest_api/featured break;
rewrite ^/rest/product_classes /index.php?route=feed/rest_api/productclasses break;
rewrite ^/rest/categories/parent/?([0-9]+)/level/?([0-9]+) /index.php?route=feed/rest_api/categories&parent=$1&level=$2 break;
rewrite ^/rest/categories/level/?([0-9]+) /index.php?route=feed/rest_api/categories&level=$1 break;
rewrite ^/rest/categories/parent/?([0-9]+) /index.php?route=feed/rest_api/categories&parent=$1 break;
rewrite ^/rest/categories/?([0-9]+) /index.php?route=feed/rest_api/categories&id=$1 break;
rewrite ^/rest/categories /index.php?route=feed/rest_api/categories break;
rewrite ^/rest/categories /index.php?route=feed/rest_api/categories break;
rewrite ^/rest/categories/?([0-9]+) /index.php?route=feed/rest_api/categories&id=$1 break;
rewrite ^/rest/categories/delete/?([0-9]+) /index.php?route=feed/rest_api/categories&id=$1 break;
rewrite ^/rest/manufacturers/?([0-9]+) /index.php?route=feed/rest_api/manufacturers&id=$1 break;
rewrite ^/rest/manufacturers /index.php?route=feed/rest_api/manufacturers break;
rewrite ^/rest/manufacturers /index.php?route=feed/rest_api/manufacturers break;
rewrite ^/rest/manufacturers/?([0-9]+) /index.php?route=feed/rest_api/manufacturers&id=$1 break;
rewrite ^/rest/manufacturers/?([0-9]+) /index.php?route=feed/rest_api/manufacturers&id=$1 break;
rewrite ^/rest/orders/?([0-9]+) /index.php?route=feed/rest_api/orders&id=$1 break;
rewrite ^/rest/orders/details/added_from/([^/]+)/added_to/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_added_from=$1&filter_date_added_to=$2 break;
rewrite ^/rest/orders/details/added_from/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_added_from=$1 break;
rewrite ^/rest/orders/details/added_on/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_added_on=$1 break;
rewrite ^/rest/orders/details/modified_from/([^/]+)/modified_to/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_modified_from=$1&filter_date_modified_to=$2 break;
rewrite ^/rest/orders/details/modified_from/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_modified_from=$1 break;
rewrite ^/rest/orders/details/modified_on/([^/]+)/?$ /index.php?route=feed/rest_api/listorderswithdetails&filter_date_modified_on=$1 break;
rewrite ^/rest/orders/details/status/([0-9,?:,]+) /index.php?route=feed/rest_api/listorderswithdetails&filter_order_status_id=$1 break;
rewrite ^/rest/orders/details /index.php?route=feed/rest_api/listorderswithdetails break;
rewrite ^/rest/order_status/?([0-9]+) /index.php?route=feed/rest_api/orderstatus&id=$1 break;
rewrite ^/rest/orders/?([0-9]+) /index.php?route=feed/rest_api/orders&id=$1 break;
rewrite ^/rest/orders/?([0-9]+) /index.php?route=feed/rest_api/orders&id=$1 break;
rewrite ^/rest/orders/user/?([0-9]+) /index.php?route=feed/rest_api/userorders&user=$1 break;
rewrite ^/rest/orders /index.php?route=feed/rest_api/orders break;
rewrite ^/rest/customers/?([0-9]+) /index.php?route=feed/rest_api/customers&id=$1 break;
rewrite ^/rest/customers /index.php?route=feed/rest_api/customers break;
rewrite ^/rest/customers/update/?([0-9]+) /index.php?route=feed/rest_api/customers&id=$1 break;
rewrite ^/rest/customers/?([0-9]+) /index.php?route=feed/rest_api/customers&id=$1 break;
rewrite ^/rest/languages/?([0-9]+) /index.php?route=feed/rest_api/languages&id=$1 break;
rewrite ^/rest/languages /index.php?route=feed/rest_api/languages break;
rewrite ^/rest/stores/?([0-9]+) /index.php?route=feed/rest_api/stores&id=$1 break;
rewrite ^/rest/stores /index.php?route=feed/rest_api/stores break;
rewrite ^/rest/countries/?([0-9]+) /index.php?route=feed/rest_api/countries&id=$1 break;
rewrite ^/rest/countries /index.php?route=feed/rest_api/countries break;
rewrite ^/rest/session /index.php?route=feed/rest_api/session break;
rewrite ^/rest/cart_bulk /index.php?route=rest/cart/bulkcart break;
rewrite ^/rest/cart/empty /index.php?route=rest/cart/emptycart break;
rewrite ^/rest/cart /index.php?route=rest/cart/cart break;
rewrite ^/rest/register /index.php?route=rest/register/register break;
rewrite ^/rest/login /index.php?route=rest/login/login break;
rewrite ^/rest/logout /index.php?route=rest/logout/logout break;
rewrite ^/rest/voucher /index.php?route=rest/cart/voucher break;
rewrite ^/rest/coupon /index.php?route=rest/cart/coupon break;
rewrite ^/rest/reward /index.php?route=rest/cart/reward break;
rewrite ^/rest/guestshipping /index.php?route=rest/guest_shipping/guestshipping break;
rewrite ^/rest/guest /index.php?route=rest/guest/guest break;
rewrite ^/rest/paymentmethods /index.php?route=rest/payment_method/payments break;
rewrite ^/rest/paymentaddress /index.php?route=rest/payment_address/paymentaddress break;
rewrite ^/rest/shippingaddress /index.php?route=rest/shipping_address/shippingaddress break;
rewrite ^/rest/shippingmethods /index.php?route=rest/shipping_method/shippingmethods break;
rewrite ^/rest/zone/?([0-9]+) /index.php?route=rest/guest/zone&country_id=$1 break;
rewrite ^/rest/confirm /index.php?route=rest/confirm/confirm break;
rewrite ^/rest/simpleconfirm /index.php?route=rest/simple_confirm/confirm break;
rewrite ^/rest/checkuser /index.php?route=rest/login/checkuser break;
rewrite ^/rest/customerorders/?([0-9]+) /index.php?route=rest/order/orders&id=$1 break;
rewrite ^/rest/customerorders /index.php?route=rest/order/orders break;
rewrite ^/rest/account/password /index.php?route=rest/account/password break;
rewrite ^/rest/account /index.php?route=rest/account/account break;
rewrite ^/rest/customfield /index.php?route=rest/account/customfield break;
rewrite ^/rest/wishlist/?([0-9]+) /index.php?route=rest/wishlist/wishlist&id=$1 break;
rewrite ^/rest/wishlist /index.php?route=rest/wishlist/wishlist break;
rewrite ^/rest/homepagebanners /index.php?route=rest/banner/getHomepageBanners;
rewrite ^/rest/informations /index.php?route=rest/information/getInformations;
}
location /adminapi {
rewrite ^/rest/checksums /index.php?route=rest/helpers/getchecksum break;
rewrite ^/rest/utc_offset /index.php?route=rest/helpers/utc_offset break;
rewrite ^/rest/init /index.php?route=rest/helpers/productclasses break;
rewrite ^/rest/countries/?([0-9]+) /index.php?route=rest/helpers/countries&id=$1 break;
rewrite ^/rest/countries /index.php?route=rest/helpers/countries break;
rewrite ^/rest/bulk_products /index.php?route=rest/product_admin/bulkproducts break;
rewrite ^/rest/products/?([0-9]+)/images/other /index.php?route=rest/product_admin/productimages&id=$1&other=1 break;
rewrite ^/rest/products/?([0-9]+)/images /index.php?route=rest/product_admin/productimages&id=$1 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+)/sort/?([a-zA-Z]+)/order/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&search=$1&sort=$2&order=$3 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+)/sort/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&search=$1&sort=$2 break;
rewrite ^/rest/products/category/?([0-9]+)/sort/?([a-zA-Z]+)/order/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&category=$1&sort=$2&order=$3 break;
rewrite ^/rest/products/category/?([0-9]+)/sort/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&category=$1&sort=$2 break;
rewrite ^/rest/products/sort/?([a-zA-Z]+)/order/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&sort=$1&order=$2 break;
rewrite ^/rest/products/sort/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&sort=$1 break;
rewrite ^/rest/products/?([0-9]+)/review /index.php?route=feed/rest_api/reviews&id=$1 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+)/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/product_admin/products&search=$1&limit=$2&page=$3 break;
rewrite ^/rest/products/search/?([a-zA-Z0-9]+) /index.php?route=rest/product_admin/products&search=$1 break;
rewrite ^/rest/products/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/product_admin/products&limit=$1&page=$2 break;
rewrite ^/rest/products/category/?([0-9]+)/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/product_admin/products&category=$1&limit=$2&page=$3 break;
rewrite ^/rest/products/category/?([0-9]+) /index.php?route=rest/product_admin/products&category=$1 break;
rewrite ^/rest/products/quantity /index.php?route=rest/product_admin/productquantity break;
rewrite ^/rest/products/?([0-9]+) /index.php?route=rest/product_admin/products&id=$1 break;
rewrite ^/rest/products /index.php?route=rest/product_admin/products break;
rewrite ^/rest/featured/limit/?([0-9]+) /index.php?route=rest/product_admin/featured&limit=$1 break;
rewrite ^/rest/featured /index.php?route=rest/product_admin/featured break;
rewrite ^/rest/products/category/?([0-9]+)/sort/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&category=$1&sort=$2 break;
rewrite ^/rest/products/category/?([0-9]+)/sort/?([a-zA-Z]+)/order/?([a-zA-Z]+) /index.php?route=rest/product_admin/products&category=$1&sort=$2&order=$3 break;
rewrite ^/rest/categories/?([0-9]+)/images /index.php?route=rest/category_admin/categoryimages&id=$1 break;
rewrite ^/rest/categories/parent/?([0-9]+)/level/?([0-9]+) /index.php?route=rest/category_admin/category&parent=$1&level=$2 break;
rewrite ^/rest/categories/level/?([0-9]+) /index.php?route=rest/category_admin/category&level=$1 break;
rewrite ^/rest/categories/parent/?([0-9]+) /index.php?route=rest/category_admin/category&parent=$1 break;
rewrite ^/rest/categories/?([0-9]+) /index.php?route=rest/category_admin/category&id=$1 break;
rewrite ^/rest/categories /index.php?route=rest/category_admin/category break;
rewrite ^/rest/manufacturers/?([0-9]+)/images /index.php?route=rest/manufacturer_admin/manufacturerimages&id=$1 break;
rewrite ^/rest/manufacturers/?([0-9]+) /index.php?route=rest/manufacturer_admin/manufacturer&id=$1 break;
rewrite ^/rest/manufacturers /index.php?route=rest/manufacturer_admin/manufacturer break;
rewrite ^/rest/orderhistory/?([0-9]+) /index.php?route=rest/order_admin/orderhistory&id=$1 break;
rewrite ^/rest/orders/details/added_from/([^/]+)/added_to/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_added_from=$1&filter_date_added_to=$2 break;
rewrite ^/rest/orders/details/added_from/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_added_from=$1 break;
rewrite ^/rest/orders/details/added_on/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_added_on=$1 break;
rewrite ^/rest/orders/details/modified_from/([^/]+)/modified_to/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_modified_from=$1&filter_date_modified_to=$2 break;
rewrite ^/rest/orders/details/modified_from/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_modified_from=$1 break;
rewrite ^/rest/orders/details/modified_on/([^/]+)/?$ /index.php?route=rest/order_admin/listorderswithdetails&filter_date_modified_on=$1 break;
rewrite ^/rest/orders/details/status/([0-9,?:,]+) /index.php?route=rest/order_admin/listorderswithdetails&filter_order_status_id=$1 break;
rewrite ^/rest/order_status/?([0-9]+) /index.php?route=rest/order_admin/orderstatus&id=$1 break;
rewrite ^/rest/orders/details /index.php?route=rest/order_admin/listorderswithdetails break;
rewrite ^/rest/orders/?([0-9]+) /index.php?route=rest/order_admin/orders&id=$1 break;
rewrite ^/rest/orders/user/?([0-9]+) /index.php?route=rest/order_admin/userorders&user=$1 break;
rewrite ^/rest/orders /index.php?route=rest/order_admin/orders break;
rewrite ^/rest/orderadmin /index.php?route=rest/order_admin/order break;
rewrite ^/rest/attributegroups/?([0-9]+) /index.php?route=rest/attribute_group_admin/attributegroup&id=$1 break;
rewrite ^/rest/attributegroups/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/attribute_group_admin/attributegroup&limit=$1&page=$2 break;
rewrite ^/rest/attributegroups /index.php?route=rest/attribute_group_admin/attributegroup break;
rewrite ^/rest/attributes/?([0-9]+) /index.php?route=rest/attribute_admin/attribute&id=$1 break;
rewrite ^/rest/attributes/group/?([0-9]+)limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/attribute_admin/attribute&group=$1&limit=$2&page=$3 break;
rewrite ^/rest/attributes/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/attribute_admin/attribute&limit=$1&page=$2 break;
rewrite ^/rest/attributes /index.php?route=rest/attribute_admin/attribute break;
rewrite ^/rest/product_options/?([0-9]+)/images /index.php?route=rest/option_admin/optionimages&id=$1 break;
rewrite ^/rest/product_options/?([0-9]+) /index.php?route=rest/option_admin/option&id=$1 break;
rewrite ^/rest/product_options/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/option_admin/option&limit=$1&page=$2 break;
rewrite ^/rest/product_options /index.php?route=rest/option_admin/option break;
rewrite ^/rest/customergroups/?([0-9]+) /index.php?route=rest/customer_group_admin/customergroup&id=$1 break;
rewrite ^/rest/customergroups/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/customer_group_admin/customergroup&limit=$1&page=$2 break;
rewrite ^/rest/customergroups /index.php?route=rest/customer_group_admin/customergroup break;
rewrite ^/rest/customers/?([0-9]+) /index.php?route=rest/customer_admin/customers&id=$1 break;
rewrite ^/rest/customerpassword /index.php?route=rest/customer_admin/customerpassword break;
rewrite ^/rest/customers/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/customer_admin/customers&limit=$1&page=$2 break;
rewrite ^/rest/customers /index.php?route=rest/customer_admin/customers break;
rewrite ^/rest/customfields/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/custom_field_admin/customfield&limit=$1&page=$2 break;
rewrite ^/rest/shippingmethods /index.php?route=rest/shipping_method_admin/shippingmethods break;
rewrite ^/rest/paymentmethods /index.php?route=rest/payment_method_admin/paymentmethods break;
rewrite ^/rest/coupons/?([0-9]+) /index.php?route=rest/coupon_admin/coupon&id=$1 break;
rewrite ^/rest/coupons/limit/?([0-9]+)/page/?([0-9]+) /index.php?route=rest/coupon_admin/coupon&limit=$1&page=$2 break;
rewrite ^/rest/coupons /index.php?route=rest/coupon_admin/coupon break;
}
